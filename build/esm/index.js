function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function o(){return Object.create(null)}function r(e){e.forEach(n)}function s(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function l(e){let t;return a(e,(e=>t=e))(),t}function c(e,t,n){e.$$.on_destroy.push(a(t,n))}function u(e,n,o,r){return e[1]&&r?t(o.ctx.slice(),e[1](r(n))):o.ctx}function d(e,t,n,o,r,s,i){const a=function(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}(t,o,r,s);if(a){const r=u(t,n,o,i);e.p(r,a)}}function f(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function p(e,t){e.appendChild(t)}function h(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function g(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function y(e){return document.createTextNode(e)}function b(){return y(" ")}function w(){return y("")}function $(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function x(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t){e.value=null==t?"":t}function S(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function E(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}}function C(e,t,n){e.classList[n?"add":"remove"](t)}let q;function T(e){q=e}function P(){if(!q)throw new Error("Function called outside component initialization");return q}function N(e){P().$$.on_mount.push(e)}function O(){const e=P();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}const F=[],A=[],j=[],R=[],U=Promise.resolve();let z=!1;function L(e){j.push(e)}function D(e){R.push(e)}let B=!1;const M=new Set;function I(){if(!B){B=!0;do{for(let e=0;e<F.length;e+=1){const t=F[e];T(t),H(t.$$)}for(T(null),F.length=0;A.length;)A.pop()();for(let e=0;e<j.length;e+=1){const t=j[e];M.has(t)||(M.add(t),t())}j.length=0}while(F.length);for(;R.length;)R.pop()();z=!1,B=!1,M.clear()}}function H(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L)}}const J=new Set;let V;function K(){V={r:0,c:[],p:V}}function G(){V.r||r(V.c),V=V.p}function X(e,t){e&&e.i&&(J.delete(e),e.i(t))}function W(e,t,n,o){if(e&&e.o){if(J.has(e))return;J.add(e),V.c.push((()=>{J.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function Y(e,t){const n=t.token={};function o(e,o,r,s){if(t.token!==n)return;t.resolved=s;let i=t.ctx;void 0!==r&&(i=i.slice(),i[r]=s);const a=e&&(t.current=e)(i);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(K(),W(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),G())})):t.block.d(1),a.c(),X(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[o]=a),l&&I()}if((r=e)&&"object"==typeof r&&"function"==typeof r.then){const n=P();if(e.then((e=>{T(n),o(t.then,1,t.value,e),T(null)}),(e=>{if(T(n),o(t.catch,2,t.error,e),T(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}else{if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}var r}function Q(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function Z(e){e&&e.c()}function ee(e,t,o,i){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=e.$$;a&&a.m(t,o),i||L((()=>{const t=l.map(n).filter(s);c?c.push(...t):r(t),e.$$.on_mount=[]})),u.forEach(L)}function te(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ne(e,t){-1===e.$$.dirty[0]&&(F.push(e),z||(z=!0,U.then(I)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function oe(t,n,s,i,a,l,c=[-1]){const u=q;T(t);const d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:c,skip_bound:!1};let f=!1;if(d.ctx=s?s(t,n.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),f&&ne(t,e)),n})):[],d.update(),f=!0,r(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(m)}else d.fragment&&d.fragment.c();n.intro&&X(t.$$.fragment),ee(t,n.target,n.anchor,n.customElement),I()}T(u)}class re{$destroy(){te(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const se=[];function ie(t,n=e){let o;const r=[];function s(e){if(i(t,e)&&(t=e,o)){const e=!se.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),se.push(n,t)}if(e){for(let e=0;e<se.length;e+=2)se[e][0](se[e+1]);se.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,a=e){const l=[i,a];return r.push(l),1===r.length&&(o=n(s)||e),i(t),()=>{const e=r.indexOf(l);-1!==e&&r.splice(e,1),0===r.length&&(o(),o=null)}}}}var ae=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}},le=Object.prototype.toString;function ce(e){return"[object Array]"===le.call(e)}function ue(e){return void 0===e}function de(e){return null!==e&&"object"==typeof e}function fe(e){if("[object Object]"!==le.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function pe(e){return"[object Function]"===le.call(e)}function he(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),ce(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var me={isArray:ce,isArrayBuffer:function(e){return"[object ArrayBuffer]"===le.call(e)},isBuffer:function(e){return null!==e&&!ue(e)&&null!==e.constructor&&!ue(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:de,isPlainObject:fe,isUndefined:ue,isDate:function(e){return"[object Date]"===le.call(e)},isFile:function(e){return"[object File]"===le.call(e)},isBlob:function(e){return"[object Blob]"===le.call(e)},isFunction:pe,isStream:function(e){return de(e)&&pe(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:he,merge:function e(){var t={};function n(n,o){fe(t[o])&&fe(n)?t[o]=e(t[o],n):fe(n)?t[o]=e({},n):ce(n)?t[o]=n.slice():t[o]=n}for(var o=0,r=arguments.length;o<r;o++)he(arguments[o],n);return t},extend:function(e,t,n){return he(t,(function(t,o){e[o]=n&&"function"==typeof t?ae(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function ge(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ve=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(me.isURLSearchParams(t))o=t.toString();else{var r=[];me.forEach(t,(function(e,t){null!=e&&(me.isArray(e)?t+="[]":e=[e],me.forEach(e,(function(e){me.isDate(e)?e=e.toISOString():me.isObject(e)&&(e=JSON.stringify(e)),r.push(ge(t)+"="+ge(e))})))})),o=r.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e};function ye(){this.handlers=[]}ye.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},ye.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},ye.prototype.forEach=function(e){me.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var be=ye,we=function(e,t){me.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))},$e=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},xe=function(e,t,n,o,r){var s=new Error(e);return $e(s,t,n,o,r)},_e=me.isStandardBrowserEnv()?{write:function(e,t,n,o,r,s){var i=[];i.push(e+"="+encodeURIComponent(t)),me.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),me.isString(o)&&i.push("path="+o),me.isString(r)&&i.push("domain="+r),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},ke=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Se=me.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=me.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function Ee(e){this.message=e}Ee.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Ee.prototype.__CANCEL__=!0;var Ce=Ee,qe=function(e){return new Promise((function(t,n){var o,r=e.data,s=e.headers,i=e.responseType;function a(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}me.isFormData(r)&&delete s["Content-Type"];var l=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(c+":"+u)}var d,f,p=(d=e.baseURL,f=e.url,d&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(f)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(d,f):f);function h(){if(l){var o,r,s,c,u,d="getAllResponseHeaders"in l?(o=l.getAllResponseHeaders(),u={},o?(me.forEach(o.split("\n"),(function(e){if(c=e.indexOf(":"),r=me.trim(e.substr(0,c)).toLowerCase(),s=me.trim(e.substr(c+1)),r){if(u[r]&&ke.indexOf(r)>=0)return;u[r]="set-cookie"===r?(u[r]?u[r]:[]).concat([s]):u[r]?u[r]+", "+s:s}})),u):u):null;!function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(xe("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}((function(e){t(e),a()}),(function(e){n(e),a()}),{data:i&&"text"!==i&&"json"!==i?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:d,config:e,request:l}),l=null}}if(l.open(e.method.toUpperCase(),ve(p,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=h:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(h)},l.onabort=function(){l&&(n(xe("Request aborted",e,"ECONNABORTED",l)),l=null)},l.onerror=function(){n(xe("Network Error",e,null,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",o=e.transitional||Fe.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(xe(t,e,o.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},me.isStandardBrowserEnv()){var m=(e.withCredentials||Se(p))&&e.xsrfCookieName?_e.read(e.xsrfCookieName):void 0;m&&(s[e.xsrfHeaderName]=m)}"setRequestHeader"in l&&me.forEach(s,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete s[t]:l.setRequestHeader(t,e)})),me.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),i&&"json"!==i&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(o=function(e){l&&(n(!e||e&&e.type?new Ce("canceled"):e),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o))),r||(r=null),l.send(r)}))},Te={"Content-Type":"application/x-www-form-urlencoded"};function Pe(e,t){!me.isUndefined(e)&&me.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Ne,Oe={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Ne=qe),Ne),transformRequest:[function(e,t){return we(t,"Accept"),we(t,"Content-Type"),me.isFormData(e)||me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)?e:me.isArrayBufferView(e)?e.buffer:me.isURLSearchParams(e)?(Pe(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):me.isObject(e)||t&&"application/json"===t["Content-Type"]?(Pe(t,"application/json"),function(e,t,n){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Oe.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,r=!n&&"json"===this.responseType;if(r||o&&me.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw $e(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};me.forEach(["delete","get","head"],(function(e){Oe.headers[e]={}})),me.forEach(["post","put","patch"],(function(e){Oe.headers[e]=me.merge(Te)}));var Fe=Oe,Ae=function(e,t,n){var o=this||Fe;return me.forEach(n,(function(n){e=n.call(o,e,t)})),e},je=function(e){return!(!e||!e.__CANCEL__)};function Re(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ce("canceled")}var Ue=function(e){return Re(e),e.headers=e.headers||{},e.data=Ae.call(e,e.data,e.headers,e.transformRequest),e.headers=me.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),me.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||Fe.adapter)(e).then((function(t){return Re(e),t.data=Ae.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return je(t)||(Re(e),t&&t.response&&(t.response.data=Ae.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},ze=function(e,t){t=t||{};var n={};function o(e,t){return me.isPlainObject(e)&&me.isPlainObject(t)?me.merge(e,t):me.isPlainObject(t)?me.merge({},t):me.isArray(t)?t.slice():t}function r(n){return me.isUndefined(t[n])?me.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function s(e){if(!me.isUndefined(t[e]))return o(void 0,t[e])}function i(n){return me.isUndefined(t[n])?me.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function a(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a};return me.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||r,o=t(e);me.isUndefined(o)&&t!==a||(n[e]=o)})),n},Le="0.24.0",De=Le,Be={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Be[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Me={};Be.transitional=function(e,t,n){function o(e,t){return"[Axios v"+De+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!Me[r]&&(Me[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}};var Ie={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var o=Object.keys(e),r=o.length;r-- >0;){var s=o[r],i=t[s];if(i){var a=e[s],l=void 0===a||i(a,s,e);if(!0!==l)throw new TypeError("option "+s+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+s)}},validators:Be},He=Ie.validators;function Je(e){this.defaults=e,this.interceptors={request:new be,response:new be}}Je.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=ze(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&Ie.assertOptions(t,{silentJSONParsing:He.transitional(He.boolean),forcedJSONParsing:He.transitional(He.boolean),clarifyTimeoutError:He.transitional(He.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!o){var i=[Ue,void 0];for(Array.prototype.unshift.apply(i,n),i=i.concat(s),r=Promise.resolve(e);i.length;)r=r.then(i.shift(),i.shift());return r}for(var a=e;n.length;){var l=n.shift(),c=n.shift();try{a=l(a)}catch(e){c(e);break}}try{r=Ue(a)}catch(e){return Promise.reject(e)}for(;s.length;)r=r.then(s.shift(),s.shift());return r},Je.prototype.getUri=function(e){return e=ze(this.defaults,e),ve(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},me.forEach(["delete","get","head","options"],(function(e){Je.prototype[e]=function(t,n){return this.request(ze(n||{},{method:e,url:t,data:(n||{}).data}))}})),me.forEach(["post","put","patch"],(function(e){Je.prototype[e]=function(t,n,o){return this.request(ze(o||{},{method:e,url:t,data:n}))}}));var Ve=Je;function Ke(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,o=n._listeners.length;for(t=0;t<o;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,o=new Promise((function(e){n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e){n.reason||(n.reason=new Ce(e),t(n.reason))}))}Ke.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Ke.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},Ke.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},Ke.source=function(){var e;return{token:new Ke((function(t){e=t})),cancel:e}};var Ge=Ke;var Xe=function e(t){var n=new Ve(t),o=ae(Ve.prototype.request,n);return me.extend(o,Ve.prototype,n),me.extend(o,n),o.create=function(n){return e(ze(t,n))},o}(Fe);Xe.Axios=Ve,Xe.Cancel=Ce,Xe.CancelToken=Ge,Xe.isCancel=je,Xe.VERSION=Le,Xe.all=function(e){return Promise.all(e)},Xe.spread=function(e){return function(t){return e.apply(null,t)}},Xe.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError};var We=Xe,Ye=Xe;We.default=Ye;var Qe=We;const Ze=ie(""),et=ie(""),tt=ie(""),nt=ie(""),ot=ie(!0),rt=ie("en"),st=ie(!1),it=ie(!1),at=ie("get"),lt=ie(!1),ct=ie(!1);class ut{accessToken="";refreshToken="";domain="";appKey="";proxyConfig={};constructor(){Ze.subscribe((e=>this.domain=e)),et.subscribe((e=>this.appKey=e)),tt.subscribe((e=>this.refreshToken=e)),nt.subscribe((e=>this.accessToken=e))}get(e,t={},n=!0,o=null,r=!0,s=!0){return this.call("get",e,t,n,o,r,s)}post(e,t={},n=!0,o=null,r=!0,s=!0){return this.call("post",e,t,n,o,r,s)}put(e,t={},n=!0,o=null,r=!0,s=!0){return this.call("put",e,t,n,o,r,s)}delete(e,t={},n=!0,o=null,r=!0,s=!0){return this.call("delete",e,t,n,o,r,s)}callAccessToken(){return new Promise(((e,t)=>{let n={refreshToken:this.refreshToken,applicationKey:this.appKey};this.post("/accessToken",n,!1).then((n=>{n.success?(this.accessToken=n.accessToken,nt.update((()=>n.accessToken)),e(n)):t(n)})).catch(t)}))}call(e,t,n={},o=!0,r=null,s=!0,i=!0){return this.proxyConfig=JSON.parse(localStorage.getItem("proxy")),new Promise(((a,l)=>{const c=(o,c)=>{const u="https://"+this.domain.replace(/(http|https):\/\//,"")+"/gobackend"+t;let d=o;if(i){d=new URLSearchParams;for(const e of Object.keys(o)){let t=o[e];"object"==typeof t&&(t=JSON.stringify(t)),d.set(e,t)}d=d.toString()}c||(c={}),s&&(c["Content-Type"]="application/x-www-form-urlencoded"),r&&(c={...c,...r});let f={url:u,request:{method:"post",headers:c,data:d}};switch(e){case"get":f={url:u+"?"+d,request:{headers:c}};break;case"put":f={url:u,request:{method:"put",headers:c,data:d}};break;case"delete":f={url:u,request:{method:"delete",headers:c,data:d}}}Qe({url:f.url,proxy:this.proxyConfig,...f.request}).then((({data:o})=>{if(!0===o.success||"true"===o.success)a(o);else switch(o.errorcode){case 15007:case 15008:this.callAccessToken().then((()=>{this.call(e,t,n).subscribe((e=>{a(e)}))}));break;case 5266:default:l(o.errormessage)}})).catch((e=>l()))};if(o){let e={};e={Authorization:"Key "+this.accessToken},c(n,e)}else c(n)}))}}function dt(t){let n;return{c(){n=v("div"),n.innerHTML='<div class="header__logo svelte-bfa57z"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 25.78" class="svelte-bfa57z"><path d="M41.34 6.14a5.72 5.72 0 00-3.37-.97 5.54 5.54 0 00-3.33.97 4.9 4.9 0 00-1.07 1 1.58 1.58 0 00-1.58-1.59h-.18a.3.3 0 00-.3.31V24a.3.3 0 00.3.31h.42a1.61 1.61 0 001.61-1.61v-4.37a5.18 5.18 0 00.8.72 5.56 5.56 0 003.33 1 5.72 5.72 0 003.37-.96 6.59 6.59 0 002.17-2.65 8.96 8.96 0 00.76-3.79 8.85 8.85 0 00-.76-3.78 6.37 6.37 0 00-2.17-2.72zm0 9.15a4.11 4.11 0 01-1.37 1.89 3.6 3.6 0 01-2.3.69 3.63 3.63 0 01-3.69-2.58 8.39 8.39 0 01-.44-2.75 7.57 7.57 0 01.44-2.76 4.2 4.2 0 011.34-1.85 3.63 3.63 0 012.28-.66 3.96 3.96 0 012.37.69 4.3 4.3 0 011.38 1.9 7.32 7.32 0 01.44 2.68 7.45 7.45 0 01-.45 2.75z"></path><path d="M47.44 19.9h1.69a.3.3 0 00.31-.3V6.18a.3.3 0 00-.31-.3h-1.69a.3.3 0 00-.31.3V19.6a.3.3 0 00.31.3z"></path><path d="M81.31 15.38h1.7a.3.3 0 00.3-.31V6.26a.3.3 0 00-.3-.31h-1.7a.3.3 0 00-.3.31v8.8a.3.3 0 00.3.32z"></path><path d="M64.36 5.84h-1.97a.31.31 0 00-.27.14L58.4 11l-3.75-5.02a.44.44 0 00-.24-.14h-1.96a.31.31 0 00-.24.51l4.89 6.44-5 6.6a.32.32 0 00.25.52h1.96a.23.23 0 00.24-.14l3.85-5.2 3.86 5.23a.42.42 0 00.27.14h1.96a.31.31 0 00.24-.52l-4.99-6.6 4.89-6.44a.35.35 0 00-.27-.54z"></path><path d="M77.98 5.84h-1.96a.31.31 0 00-.28.14L72.03 11l-3.75-5.02a.44.44 0 00-.24-.14h-1.97a.31.31 0 00-.24.51l4.89 6.44-5.02 6.6a.32.32 0 00.24.52h1.96a.23.23 0 00.24-.14l3.85-5.2 3.86 5.2a.42.42 0 00.27.14h1.96a.31.31 0 00.24-.52l-4.99-6.6 4.89-6.44a.31.31 0 00-.24-.51z"></path><path d="M99.2 9.04a6.16 6.16 0 00-2.33-2.62 6.94 6.94 0 00-3.65-.96 6.68 6.68 0 00-3.58.93A6.26 6.26 0 0087.27 9a8.63 8.63 0 00-.83 3.9 8.58 8.58 0 00.83 3.84 6.4 6.4 0 002.34 2.62 7.37 7.37 0 007.22.03 6.16 6.16 0 002.34-2.61 8.63 8.63 0 00.83-3.89 8.05 8.05 0 00-.8-3.85zm-2.71 7.6a3.77 3.77 0 01-3.24 1.44 3.86 3.86 0 01-3.23-1.44 6.21 6.21 0 01-1.1-3.82 7.37 7.37 0 01.48-2.72 3.8 3.8 0 011.41-1.82 4.06 4.06 0 012.41-.66 3.84 3.84 0 013.23 1.41 6.1 6.1 0 011.07 3.79 5.92 5.92 0 01-1.03 3.82z"></path><path class="logoIcon svelte-bfa57z" d="M81.31 19.77h1.7a.3.3 0 00.3-.31v-1.68a.3.3 0 00-.3-.31h-1.7a.3.3 0 00-.3.3v1.7a.3.3 0 00.3.3z"></path><path class="logoIcon svelte-bfa57z" d="M13.18 25.78a13.48 13.48 0 01-6.75-1.82l-.68-.4v-3.4H2.27l-.41-.67A12.76 12.76 0 010 12.9 13.06 13.06 0 0113.18 0a13.06 13.06 0 0113.18 12.9 13.06 13.06 0 01-13.18 12.88zm-4.61-3.8a10.27 10.27 0 004.6 1.04A10.26 10.26 0 0023.54 12.9 10.23 10.23 0 0013.18 2.8 10.26 10.26 0 002.82 12.92a10.13 10.13 0 001.07 4.51h1.86v-4.5a7.37 7.37 0 017.43-7.28 7.37 7.37 0 017.43 7.27 7.37 7.37 0 01-7.43 7.27H8.57zm4.6-13.56a4.56 4.56 0 00-4.6 4.5v4.52h4.6a4.51 4.51 0 100-9.02z"></path></svg></div>',x(n,"class","header svelte-bfa57z")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}class ft extends re{constructor(e){super(),oe(this,e,null,dt,i,{})}}const pt=ie(!1),ht=ie(""),mt=ie("preview"),gt=ie([]),vt=ie(null),yt=ie(1),bt=ie(0),wt=ie([]),$t=ie(!1),xt=ie(!0),_t=ie(!0);function kt(t){let n,o,s,i,a,l,c;return{c(){n=v("div"),o=v("div"),s=v("input"),i=b(),a=v("label"),a.textContent="Search",x(s,"id","pixxio-search"),x(s,"type","text"),x(s,"placeholder"," "),x(s,"class","svelte-1yjukv6"),x(a,"for","pixxio-search"),x(a,"class","svelte-1yjukv6"),x(o,"class","field svelte-1yjukv6"),x(n,"class","searchField fields svelte-1yjukv6")},m(e,r){h(e,n,r),p(n,o),p(o,s),k(s,t[0]),p(o,i),p(o,a),l||(c=[$(s,"input",t[2]),$(s,"input",t[1])],l=!0)},p(e,[t]){1&t&&s.value!==e[0]&&k(s,e[0])},i:e,o:e,d(e){e&&m(n),l=!1,r(c)}}}function St(e,t,n){let{value:o=""}=t,r=null;return e.$$set=e=>{"value"in e&&n(0,o=e.value)},[o,()=>{r&&clearTimeout(r),r=setTimeout((()=>{ht.update((()=>o))}),200)},function(){o=this.value,n(0,o)}]}class Et extends re{constructor(e){super(),oe(this,e,St,kt,i,{value:0})}}function Ct(e){let t="en";rt.subscribe((e=>t=e));return{de:{mediaspace:"Mediaspace (example.px.media)",username:"Username oder E-Mail",password:"Passwort",signin:"Anmelden",signin_description:"Bitte melde dich in dein pixxio System an um Dateien auszuwählen.",signin_error:"Ungültiger Benutzer oder Passwort",application_key_error:"Das Plugin ist nicht für deinen Mediaspace freigegeben. Kontaktiere deinen Administrator oder support@pixx.io für weitere Informationen.",cancel:"Abbrechen",select:"Auswählen",selected:"ausgewählt",please_select:"Format wählen",original:"Original",preview:"Vorschau",logged_in_as:"Du bist angemeldet als: ",logout:"Ausloggen",duplicate_file:"Duplikat: Die Datei existiert bereits.",success_upload_file:"Die Datei wurde erfolgreich hochgeladen.",advanced:"Erweiterte Einstellungen",proxy_connection_string:"Proxy Verbindung (http://127.0.0.1:8080)",proxy_protocol:"Proxy Protokoll",proxy_host:"Proxy Host",proxy_port:"Proxy Port",proxy_auth_username:"Username (optional)",proxy_auth_password:"Password (optional)"},en:{mediaspace:"Mediaspace (example.px.media)",username:"Username or email",password:"Password",signin:"Sign in",signin_description:"Please sign in to your pixxio system to select files.",signin_error:"Invalid username or password",application_key_error:"The plugin is locked for your mediaspace. Contact your administrator or support@pixx.io for more information.",cancel:"Cancel",select:"Select",selected:"selected",please_select:"Choose a format",original:"Original",preview:"Preview",logged_in_as:"You are logged in as: ",logout:"Logout",duplicate_file:"Duplicate file: The file already exists.",success_upload_file:"File successfully uploaded.",advanced:"Advanced settings",proxy_connection_string:"Proxy Connection (http://127.0.0.1:8080)",proxy_protocol:"Proxy Protocol",proxy_host:"Proxy Host",proxy_port:"Proxy Port",proxy_auth_username:"Username (optional)",proxy_auth_password:"Password (optional)"}}[t||"en"][e]}function qt(t){let n;return{c(){n=v("div"),n.innerHTML='<div class="svelte-fhr97u"><svg xmlns="http://www.w3.org/2000/svg" id="pixxioIcon" viewBox="0 0 76.52 76.52" class="svelte-fhr97u"><path stroke="black" stroke-width="5" d="M24.76 50.76v-13c0-7.17 5.94-13 13.25-13s13.25 5.83 13.25 13c0 7.18-5.94 13-13.25 13H26.27l-11.17.38s-3.34-8.2-3.34-12.88a26.51 26.51 0 0126.5-26.5 26.51 26.51 0 0126.5 26.5 26.51 26.51 0 01-26.5 26.5c-4.85 0-9.58-1.3-13.5-3.6z" fill="none" class="svelte-fhr97u"></path></svg></div>',x(n,"id","pixxio-ta-loading"),x(n,"class","svelte-fhr97u")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}class Tt extends re{constructor(e){super(),oe(this,e,null,qt,i,{})}}function Pt(e){let t,n,o,r,s,i;return{c(){t=v("div"),n=v("input"),o=b(),r=v("label"),r.textContent=`${Ct("mediaspace")}`,x(n,"id","pixxio-mediaspace"),n.disabled=e[3],x(n,"type","text"),x(n,"placeholder"," "),x(n,"class","svelte-1q3uqb"),x(r,"for","pixxio-mediaspace"),x(r,"class","svelte-1q3uqb"),x(t,"class","field svelte-1q3uqb")},m(a,l){h(a,t,l),p(t,n),k(n,e[4]),p(t,o),p(t,r),s||(i=$(n,"input",e[12]),s=!0)},p(e,t){8&t&&(n.disabled=e[3]),16&t&&n.value!==e[4]&&k(n,e[4])},d(e){e&&m(t),s=!1,i()}}}function Nt(e){let t,n,o,r,s,i,a=e[6]&&Ot(e);return{c(){t=v("small"),n=v("a"),n.textContent=`${Ct("advanced")}`,o=b(),a&&a.c(),r=w(),x(n,"href","#"),x(n,"class","advanced svelte-1q3uqb"),x(t,"class","svelte-1q3uqb")},m(l,c){h(l,t,c),p(t,n),h(l,o,c),a&&a.m(l,c),h(l,r,c),s||(i=$(n,"click",e[15]),s=!0)},p(e,t){e[6]?a?a.p(e,t):(a=Ot(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(e){e&&m(t),e&&m(o),a&&a.d(e),e&&m(r),s=!1,i()}}}function Ot(e){let t,n,o,s,i,a,l,c,u,d,f,g,y,w,_,S,E,C,q,T;return{c(){t=v("br"),n=b(),o=v("br"),s=b(),i=v("div"),a=v("input"),l=b(),c=v("label"),c.textContent=`${Ct("proxy_connection_string")}`,u=b(),d=v("div"),f=v("input"),g=b(),y=v("label"),y.textContent=`${Ct("proxy_auth_username")}`,w=b(),_=v("div"),S=v("input"),E=b(),C=v("label"),C.textContent=`${Ct("proxy_auth_password")}`,x(a,"id","pixxio-host"),a.disabled=e[3],x(a,"type","text"),x(a,"placeholder"," "),x(a,"class","svelte-1q3uqb"),x(c,"for","pixxio-host"),x(c,"class","svelte-1q3uqb"),x(i,"class","field svelte-1q3uqb"),x(f,"id","pixxio-auth-username"),f.disabled=e[3],x(f,"type","text"),x(f,"placeholder"," "),x(f,"class","svelte-1q3uqb"),x(y,"for","pixxio-auth-username"),x(y,"class","svelte-1q3uqb"),x(d,"class","field svelte-1q3uqb"),x(S,"id","pixxio-auth-password"),S.disabled=e[3],x(S,"type","password"),x(S,"placeholder"," "),x(S,"class","svelte-1q3uqb"),x(C,"for","pixxio-auth-password"),x(C,"class","svelte-1q3uqb"),x(_,"class","field svelte-1q3uqb")},m(r,m){h(r,t,m),h(r,n,m),h(r,o,m),h(r,s,m),h(r,i,m),p(i,a),k(a,e[7].connectionString),p(i,l),p(i,c),h(r,u,m),h(r,d,m),p(d,f),k(f,e[7].auth.username),p(d,g),p(d,y),h(r,w,m),h(r,_,m),p(_,S),k(S,e[7].auth.password),p(_,E),p(_,C),q||(T=[$(a,"input",e[16]),$(f,"input",e[17]),$(S,"input",e[18])],q=!0)},p(e,t){8&t&&(a.disabled=e[3]),128&t&&a.value!==e[7].connectionString&&k(a,e[7].connectionString),8&t&&(f.disabled=e[3]),128&t&&f.value!==e[7].auth.username&&k(f,e[7].auth.username),8&t&&(S.disabled=e[3]),128&t&&S.value!==e[7].auth.password&&k(S,e[7].auth.password)},d(e){e&&m(t),e&&m(n),e&&m(o),e&&m(s),e&&m(i),e&&m(u),e&&m(d),e&&m(w),e&&m(_),q=!1,r(T)}}}function Ft(t){let n;return{c(){n=v("small"),n.textContent=`${Ct("signin_error")}`,x(n,"class","error svelte-1q3uqb")},m(e,t){h(e,n,t)},p:e,d(e){e&&m(n)}}}function At(t){let n;return{c(){n=v("small"),n.textContent=`${Ct("application_key_error")}`,x(n,"class","error svelte-1q3uqb")},m(e,t){h(e,n,t)},p:e,d(e){e&&m(n)}}}function jt(e){let t,n;return t=new Tt({}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function Rt(e){let t,n,o,s,i,a,l,c,u,d,f,g,w,_,S,E,q,T,P,N,O,F,A,j,R,U,z=Ct("signin")+"",L=!e[8]&&Pt(e),D=e[10]&&Nt(e),B=e[2]&&!e[5]&&Ft(),M=e[2]&&e[5]&&At(),I=e[3]&&jt();return{c(){t=v("div"),n=v("h2"),n.textContent=`${Ct("signin")}`,o=b(),s=v("p"),s.textContent=`${Ct("signin_description")}`,i=b(),L&&L.c(),a=b(),l=v("div"),c=v("input"),u=b(),d=v("label"),d.textContent=`${Ct("username")}`,f=b(),g=v("div"),w=v("input"),_=b(),S=v("label"),S.textContent=`${Ct("password")}`,E=b(),D&&D.c(),q=b(),B&&B.c(),T=b(),M&&M.c(),P=b(),N=v("div"),O=v("button"),F=y(z),A=b(),I&&I.c(),x(n,"class","svelte-1q3uqb"),x(s,"class","svelte-1q3uqb"),x(c,"id","pixxio-username"),c.disabled=e[3],x(c,"type","text"),x(c,"placeholder"," "),x(c,"class","svelte-1q3uqb"),x(d,"for","pixxio-username"),x(d,"class","svelte-1q3uqb"),x(l,"class","field svelte-1q3uqb"),x(w,"id","pixxio-password"),w.disabled=e[3],x(w,"type","password"),x(w,"placeholder"," "),x(w,"class","svelte-1q3uqb"),x(S,"for","pixxio-password"),x(S,"class","svelte-1q3uqb"),x(g,"class","field svelte-1q3uqb"),x(O,"class","button svelte-1q3uqb"),x(O,"type","submit"),O.disabled=e[3],x(N,"class","buttonGroup buttonGroup--fullSize svelte-1q3uqb"),x(t,"class","login fields svelte-1q3uqb"),C(t,"no-modal",!e[9])},m(r,m){h(r,t,m),p(t,n),p(t,o),p(t,s),p(t,i),L&&L.m(t,null),p(t,a),p(t,l),p(l,c),k(c,e[0]),p(l,u),p(l,d),p(t,f),p(t,g),p(g,w),k(w,e[1]),p(g,_),p(g,S),p(t,E),D&&D.m(t,null),p(t,q),B&&B.m(t,null),p(t,T),M&&M.m(t,null),p(t,P),p(t,N),p(N,O),p(O,F),p(t,A),I&&I.m(t,null),j=!0,R||(U=[$(c,"input",e[13]),$(w,"input",e[14]),$(O,"click",e[11])],R=!0)},p(e,[n]){e[8]?L&&(L.d(1),L=null):L?L.p(e,n):(L=Pt(e),L.c(),L.m(t,a)),(!j||8&n)&&(c.disabled=e[3]),1&n&&c.value!==e[0]&&k(c,e[0]),(!j||8&n)&&(w.disabled=e[3]),2&n&&w.value!==e[1]&&k(w,e[1]),e[10]?D?D.p(e,n):(D=Nt(e),D.c(),D.m(t,q)):D&&(D.d(1),D=null),e[2]&&!e[5]?B?B.p(e,n):(B=Ft(),B.c(),B.m(t,T)):B&&(B.d(1),B=null),e[2]&&e[5]?M?M.p(e,n):(M=At(),M.c(),M.m(t,P)):M&&(M.d(1),M=null),(!j||8&n)&&(O.disabled=e[3]),e[3]?I?8&n&&X(I,1):(I=jt(),I.c(),X(I,1),I.m(t,null)):I&&(K(),W(I,1,1,(()=>{I=null})),G()),512&n&&C(t,"no-modal",!e[9])},i(e){j||(X(I),j=!0)},o(e){W(I),j=!1},d(e){e&&m(t),L&&L.d(),D&&D.d(),B&&B.d(),M&&M.d(),I&&I.d(),R=!1,r(U)}}}function Ut(e,t,n){let o,r,s,i;c(e,Ze,(e=>n(8,o=e))),c(e,et,(e=>n(19,r=e))),c(e,ot,(e=>n(9,s=e))),c(e,lt,(e=>n(10,i=e)));const a=O(),l=new ut;let u="",d="",f=!1,p=!1,h="",m=!1,g=!1,v={connectionString:"",auth:{username:"",password:""}};const y=localStorage.getItem("refreshToken");h=localStorage.getItem("domain"),h&&Ze.update((()=>h)),y&&(o||h)&&(p=!0,tt.update((()=>y)),l.callAccessToken().then((()=>{n(3,p=!1),a("authenticated")})).catch((e=>{tt.update((()=>"")),n(3,p=!1),n(5,m=15016===e.errorcode)})));return[u,d,f,p,h,m,g,v,o,s,i,async()=>{try{n(3,p=!0),n(2,f=!1),n(4,h=h.replace(/(http|https):\/\//,"").trim());const e=new FormData;e.set("applicationKey",r),e.set("userNameOrEmail",u.trim()),e.set("password",d.trim());let t=null;if(v.connectionString){const e=v.connectionString.split(":");t={protocol:/^http/gi.test(e[0])?e[0]:"http",host:/^http/gi.test(e[0])?e[1].replace("//",""):e[0].replace("//",""),port:(/^http/gi.test(e[0])?e[2]:e[1])||"",auth:v.auth},localStorage.setItem("proxy",JSON.stringify(t))}const o=await Qe({url:`https://${h}/gobackend/login`,method:"POST",data:e});if(n(3,p=!1),!o.data.success)throw n(2,f=!0),o.data;tt.update((()=>o.data.refreshToken)),Ze.update((()=>h)),localStorage.setItem("domain",h),localStorage.setItem("refreshToken",o.data.refreshToken),l.callAccessToken().then((()=>{a("authenticated")}))}catch(e){n(3,p=!1),n(2,f=!0),console.log(e),n(5,m=15016===e.errorcode)}},function(){h=this.value,n(4,h)},function(){u=this.value,n(0,u)},function(){d=this.value,n(1,d)},()=>n(6,g=!g),function(){v.connectionString=this.value,n(7,v)},function(){v.auth.username=this.value,n(7,v)},function(){v.auth.password=this.value,n(7,v)}]}class zt extends re{constructor(e){super(),oe(this,e,Ut,Rt,i,{})}}function Lt(e,t,n){const o=e.slice();return o[14]=t[n],o}function Dt(t){let n,o,s,i,a,l,c,u,d,f=t[4]&&function(t){let n;return{c(){n=v("option"),n.textContent=`${Ct("preview")}`,n.__value="preview",n.value=n.__value},m(e,t){h(e,n,t)},p:e,d(e){e&&m(n)}}}(),y=t[3]&&function(t){let n;return{c(){n=v("option"),n.textContent=`${Ct("original")}`,n.__value="original",n.value=n.__value},m(e,t){h(e,n,t)},p:e,d(e){e&&m(n)}}}(),_=t[1],k=[];for(let e=0;e<_.length;e+=1)k[e]=Bt(Lt(t,_,e));return{c(){n=v("div"),o=v("div"),s=v("select"),f&&f.c(),i=w(),y&&y.c(),a=w();for(let e=0;e<k.length;e+=1)k[e].c();l=b(),c=v("label"),c.textContent=`${Ct("please_select")}`,x(s,"name",""),x(s,"id","pixxioDownloadFormats__dropdown"),x(s,"placeholder"," "),x(s,"class","svelte-1lpolpy"),void 0===t[0]&&L((()=>t[7].call(s))),x(c,"for","pixxioDownloadFormats__dropdown"),x(c,"class","svelte-1lpolpy"),x(o,"class","field svelte-1lpolpy"),x(n,"class","downloadFormats fields svelte-1lpolpy")},m(e,r){h(e,n,r),p(n,o),p(o,s),f&&f.m(s,null),p(s,i),y&&y.m(s,null),p(s,a);for(let e=0;e<k.length;e+=1)k[e].m(s,null);E(s,t[0]),p(o,l),p(o,c),u||(d=[$(s,"change",t[7]),$(s,"blur",t[5])],u=!0)},p(e,t){if(e[4]&&f.p(e,t),e[3]&&y.p(e,t),2&t){let n;for(_=e[1],n=0;n<_.length;n+=1){const o=Lt(e,_,n);k[n]?k[n].p(o,t):(k[n]=Bt(o),k[n].c(),k[n].m(s,null))}for(;n<k.length;n+=1)k[n].d(1);k.length=_.length}3&t&&E(s,e[0])},d(e){e&&m(n),f&&f.d(),y&&y.d(),g(k,e),u=!1,r(d)}}}function Bt(e){let t,n,o,r=e[14].name+"";return{c(){t=v("option"),n=y(r),t.__value=o=e[14].id,t.value=t.__value},m(e,o){h(e,t,o),p(t,n)},p(e,s){2&s&&r!==(r=e[14].name+"")&&_(n,r),2&s&&o!==(o=e[14].id)&&(t.__value=o,t.value=t.__value)},d(e){e&&m(t)}}}function Mt(t){let n,o=!t[2]&&Dt(t);return{c(){o&&o.c(),n=w()},m(e,t){o&&o.m(e,t),h(e,n,t)},p(e,[t]){e[2]?o&&(o.d(1),o=null):o?o.p(e,t):(o=Dt(e),o.c(),o.m(n.parentNode,n))},i:e,o:e,d(e){o&&o.d(e),e&&m(n)}}}function It(e,t,n){let o,r;c(e,vt,(e=>n(6,r=e))),O();const s=new ut;let i,a=[],l=!1,u=null===r||null!==r&&r.includes("original"),d=null===r||null!==r&&r.includes("preview");N((()=>{r&&1===r.length?(n(0,i=r[0]),mt.update((()=>r[0])),n(2,o=!0)):(p(),f())}));const f=()=>{mt.update((()=>i))},p=async()=>{try{l=!0;const e={responseFields:["id","name"]},t=await s.get("/downloadFormats",e);if(!t.success)throw new Error(t.errormessage);n(1,a=t.downloadFormats.filter((e=>null===allowedFormats||null!==r&&allowedFormats.includes(e.id)))),l=!1}catch(e){l=!1}};return e.$$.update=()=>{64&e.$$.dirty&&n(2,o=1===(r||[]).length),64&e.$$.dirty&&(r&&1===r.length?(n(0,i=r[0]),mt.update((()=>r[0])),n(2,o=!0)):(p(),f()))},[i,a,o,u,d,f,r,function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,i),n(1,a)}]}class Ht extends re{constructor(e){super(),oe(this,e,It,Mt,i,{})}}function Jt(e,t,n){const o=e.slice();return o[3]=t[n],o}function Vt(e){let t,n,o,r,i,a,l;return{c(){t=v("li"),n=v("img"),i=b(),x(n,"loading","lazy"),n.src!==(o=e[3].imagePath||e[3].modifiedPreviewFileURLs[0])&&x(n,"src",o),x(n,"alt",r=e[3].fileName),x(n,"class","svelte-1y7flg5"),x(t,"class","pixxioSelection__file svelte-1y7flg5")},m(o,r){h(o,t,r),p(t,n),p(t,i),a||(l=$(t,"click",(function(){s(e[2]("deselect",e[3]))&&e[2]("deselect",e[3]).apply(this,arguments)})),a=!0)},p(t,s){e=t,2&s&&n.src!==(o=e[3].imagePath||e[3].modifiedPreviewFileURLs[0])&&x(n,"src",o),2&s&&r!==(r=e[3].fileName)&&x(n,"alt",r)},d(e){e&&m(t),a=!1,l()}}}function Kt(e){let t,n,o,r=e[0].length-e[1].length+"";return{c(){t=v("li"),n=y("+ "),o=y(r),x(t,"class","svelte-1y7flg5")},m(e,r){h(e,t,r),p(t,n),p(t,o)},p(e,t){3&t&&r!==(r=e[0].length-e[1].length+"")&&_(o,r)},d(e){e&&m(t)}}}function Gt(t){let n,o,r=pt&&function(e){let t,n=e[1],o=[];for(let t=0;t<n.length;t+=1)o[t]=Vt(Jt(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=w()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);h(e,t,n)},p(e,r){if(6&r){let s;for(n=e[1],s=0;s<n.length;s+=1){const i=Jt(e,n,s);o[s]?o[s].p(i,r):(o[s]=Vt(i),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){g(o,e),e&&m(t)}}}(t),s=t[0].length>3&&Kt(t);return{c(){n=v("ul"),r&&r.c(),o=b(),s&&s.c(),x(n,"class","svelte-1y7flg5")},m(e,t){h(e,n,t),r&&r.m(n,null),p(n,o),s&&s.m(n,null)},p(e,[t]){pt&&r.p(e,t),e[0].length>3?s?s.p(e,t):(s=Kt(e),s.c(),s.m(n,null)):s&&(s.d(1),s=null)},i:e,o:e,d(e){e&&m(n),r&&r.d(),s&&s.d()}}}function Xt(e,t,n){let o;const r=O();let{selectedFiles:s=[]}=t;return e.$$set=e=>{"selectedFiles"in e&&n(0,s=e.selectedFiles)},e.$$.update=()=>{1&e.$$.dirty&&n(1,o=s.slice(0,3))},[s,o,r]}class Wt extends re{constructor(e){super(),oe(this,e,Xt,Gt,i,{selectedFiles:0})}}function Yt(e){let t,n,o,r,s,i,a,l,c,u,d,f,g,y=e[1]&&Qt(e),w=e[2]&&Zt(e),_=e[3]&&en(e);return{c(){t=v("li"),n=v("figure"),o=v("div"),r=v("img"),a=b(),l=v("div"),y&&y.c(),c=b(),w&&w.c(),u=b(),_&&_.c(),x(r,"loading","lazy"),r.src!==(s=e[0].imagePath||e[0].modifiedPreviewFileURLs[0])&&x(r,"src",s),x(r,"alt",i=e[0].fileName),x(r,"class","svelte-1tzh62p"),x(l,"class","tags svelte-1tzh62p"),x(o,"class","pixxioSquare svelte-1tzh62p"),C(o,"pixxioSquare--active",e[0].selected),x(n,"class","svelte-1tzh62p"),x(t,"title",d=e[0].fileName),x(t,"class","svelte-1tzh62p")},m(s,i){h(s,t,i),p(t,n),p(n,o),p(o,r),p(o,a),p(o,l),y&&y.m(l,null),p(l,c),w&&w.m(l,null),p(n,u),_&&_.m(n,null),f||(g=$(t,"click",e[7]),f=!0)},p(e,a){1&a&&r.src!==(s=e[0].imagePath||e[0].modifiedPreviewFileURLs[0])&&x(r,"src",s),1&a&&i!==(i=e[0].fileName)&&x(r,"alt",i),e[1]?y?y.p(e,a):(y=Qt(e),y.c(),y.m(l,c)):y&&(y.d(1),y=null),e[2]?w?w.p(e,a):(w=Zt(e),w.c(),w.m(l,null)):w&&(w.d(1),w=null),1&a&&C(o,"pixxioSquare--active",e[0].selected),e[3]?_?_.p(e,a):(_=en(e),_.c(),_.m(n,null)):_&&(_.d(1),_=null),1&a&&d!==(d=e[0].fileName)&&x(t,"title",d)},d(e){e&&m(t),y&&y.d(),w&&w.d(),_&&_.d(),f=!1,g()}}}function Qt(e){let t,n,o=e[5](e[0].fileSize)+"";return{c(){t=v("div"),n=y(o),x(t,"class","tag svelte-1tzh62p")},m(e,o){h(e,t,o),p(t,n)},p(e,t){1&t&&o!==(o=e[5](e[0].fileSize)+"")&&_(n,o)},d(e){e&&m(t)}}}function Zt(e){let t,n,o=e[0].fileExtension+"";return{c(){t=v("div"),n=y(o),x(t,"class","tag svelte-1tzh62p")},m(e,o){h(e,t,o),p(t,n)},p(e,t){1&t&&o!==(o=e[0].fileExtension+"")&&_(n,o)},d(e){e&&m(t)}}}function en(e){let t,n,o=e[0].fileName+"";return{c(){t=v("figcaption"),n=y(o),x(t,"class","svelte-1tzh62p")},m(e,o){h(e,t,o),p(t,n)},p(e,t){1&t&&o!==(o=e[0].fileName+"")&&_(n,o)},d(e){e&&m(t)}}}function tn(t){let n,o=t[0]&&Yt(t);return{c(){o&&o.c(),n=w()},m(e,t){o&&o.m(e,t),h(e,n,t)},p(e,[t]){e[0]?o?o.p(e,t):(o=Yt(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:e,o:e,d(e){o&&o.d(e),e&&m(n)}}}function nn(e,t,n){let o,r,s,i;c(e,bt,(e=>n(10,o=e))),c(e,_t,(e=>n(1,r=e))),c(e,xt,(e=>n(2,s=e))),c(e,$t,(e=>n(3,i=e)));let{file:a=null}=t,{selected:l=!1}=t;const u=O();let d,f=0;const p=()=>{if(1===o){const e=Date.now()-f;d&&clearTimeout(d),e<200?m():d=setTimeout((()=>{h()}),200),f=Date.now()}else h()},h=()=>{u(l?"deselect":"select",a)},m=()=>{1===o?u("selectAndClose",a):h()};return e.$$set=e=>{"file"in e&&n(0,a=e.file),"selected"in e&&n(6,l=e.selected)},[a,r,s,i,p,e=>e>1e8?Math.ceil(e/1e9*100)/100+" GB":e>1e5?Math.ceil(e/1e6*100)/100+" MB":e>1e3?Math.ceil(e/1e3)+" KB":Math.ceil(e)+" B",l,()=>p()]}class on extends re{constructor(e){super(),oe(this,e,nn,tn,i,{file:0,selected:6})}}function rn(e){let t,n;const o=e[2].default,r=function(e,t,n,o){if(e){const r=u(e,t,n,o);return e[0](r)}}(o,e,e[1],null);return{c(){t=v("div"),r&&r.c(),x(t,"class","svelte-18x7sgz"),C(t,"success",e[0].success)},m(e,o){h(e,t,o),r&&r.m(t,null),n=!0},p(e,[n]){r&&r.p&&2&n&&d(r,o,e,e[1],n,null,null),1&n&&C(t,"success",e[0].success)},i(e){n||(X(r,e),n=!0)},o(e){W(r,e),n=!1},d(e){e&&m(t),r&&r.d(e)}}}function sn(e,n,o){let{$$slots:r={},$$scope:s}=n;return e.$$set=e=>{o(0,n=t(t({},n),f(e))),"$$scope"in e&&o(1,s=e.$$scope)},[n=f(n),s,r]}class an extends re{constructor(e){super(),oe(this,e,sn,rn,i,{})}}function ln(e,t,n){const o=e.slice();return o[33]=t[n],o[34]=t,o[35]=n,o}function cn(t){let n;return{c(){n=y("error")},m(e,t){h(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}function un(e){let t,n,o,s,i,a,l,c,u,d,f,w,_,k,E,q,T,P=Ct("select")+"",N=e[4],O=[];for(let t=0;t<N.length;t+=1)O[t]=dn(ln(e,N,t));const F=e=>W(O[e],1,1,(()=>{O[e]=null}));let A=e[1]>0&&fn(e),j=e[10]&&!e[9]&&pn(e);return d=new Ht({}),{c(){t=v("section"),n=v("ul");for(let e=0;e<O.length;e+=1)O[e].c();o=b(),s=v("div"),i=v("div"),A&&A.c(),a=b(),j&&j.c(),l=b(),c=v("span"),u=b(),Z(d.$$.fragment),f=b(),w=v("button"),_=y(P),x(n,"class","svelte-wpisvp"),x(t,"class","pixxioFiles__container svelte-wpisvp"),C(t,"pixxioFiles__container--maxReached",e[6]),S(c,"flex-grow","1"),x(w,"class","button svelte-wpisvp"),x(w,"type","submit"),w.disabled=k=!e[7]||e[5],x(i,"class","buttonGroup buttonGroup--right svelte-wpisvp"),x(s,"class","svelte-wpisvp"),C(s,"compact",e[9])},m(r,m){h(r,t,m),p(t,n);for(let e=0;e<O.length;e+=1)O[e].m(n,null);h(r,o,m),h(r,s,m),p(s,i),A&&A.m(i,null),p(i,a),j&&j.m(i,null),p(i,l),p(i,c),p(i,u),ee(d,i,null),p(i,f),p(i,w),p(w,_),E=!0,q||(T=[$(t,"scroll",e[11]),$(w,"click",e[15])],q=!0)},p(e,o){if(28688&o[0]){let t;for(N=e[4],t=0;t<N.length;t+=1){const r=ln(e,N,t);O[t]?(O[t].p(r,o),X(O[t],1)):(O[t]=dn(r),O[t].c(),X(O[t],1),O[t].m(n,null))}for(K(),t=N.length;t<O.length;t+=1)F(t);G()}64&o[0]&&C(t,"pixxioFiles__container--maxReached",e[6]),e[1]>0?A?A.p(e,o):(A=fn(e),A.c(),A.m(i,a)):A&&(A.d(1),A=null),e[10]&&!e[9]?j?(j.p(e,o),1536&o[0]&&X(j,1)):(j=pn(e),j.c(),X(j,1),j.m(i,l)):j&&(K(),W(j,1,1,(()=>{j=null})),G()),(!E||160&o[0]&&k!==(k=!e[7]||e[5]))&&(w.disabled=k),512&o[0]&&C(s,"compact",e[9])},i(e){if(!E){for(let e=0;e<N.length;e+=1)X(O[e]);X(j),X(d.$$.fragment,e),E=!0}},o(e){O=O.filter(Boolean);for(let e=0;e<O.length;e+=1)W(O[e]);W(j),W(d.$$.fragment,e),E=!1},d(e){e&&m(t),g(O,e),e&&m(o),e&&m(s),A&&A.d(),j&&j.d(),te(d),q=!1,r(T)}}}function dn(e){let t,n,o,r;function s(t){e[18](t,e[33],e[34],e[35])}function i(t){e[19](t,e[33])}let a={};return void 0!==e[33]&&(a.file=e[33]),void 0!==e[33].selected&&(a.selected=e[33].selected),t=new on({props:a}),A.push((()=>Q(t,"file",s))),A.push((()=>Q(t,"selected",i))),t.$on("selectAndClose",e[12]),t.$on("select",e[13]),t.$on("deselect",e[14]),{c(){Z(t.$$.fragment)},m(e,n){ee(t,e,n),r=!0},p(r,s){e=r;const i={};!n&&16&s[0]&&(n=!0,i.file=e[33],D((()=>n=!1))),!o&&16&s[0]&&(o=!0,i.selected=e[33].selected,D((()=>o=!1))),t.$set(i)},i(e){r||(X(t.$$.fragment,e),r=!0)},o(e){W(t.$$.fragment,e),r=!1},d(e){te(t,e)}}}function fn(e){let t,n,o,r,s,i,a,l=e[1]>0?"/"+e[1]:"",c=(e[9]?"":Ct("selected"))+"";return{c(){t=v("p"),n=v("strong"),o=y(e[2]),r=b(),s=y(l),i=b(),a=y(c),S(t,"white-space","nowrap"),S(t,"padding","0 10px 0 0"),S(t,"margin","0")},m(e,l){h(e,t,l),p(t,n),p(n,o),p(t,r),p(t,s),p(t,i),p(t,a)},p(e,t){4&t[0]&&_(o,e[2]),2&t[0]&&l!==(l=e[1]>0?"/"+e[1]:"")&&_(s,l),512&t[0]&&c!==(c=(e[9]?"":Ct("selected"))+"")&&_(a,c)},d(e){e&&m(t)}}}function pn(e){let t,n,o;function r(t){e[20](t)}let s={};return void 0!==e[0]&&(s.selectedFiles=e[0]),t=new Wt({props:s}),A.push((()=>Q(t,"selectedFiles",r))),t.$on("deselect",e[14]),{c(){Z(t.$$.fragment)},m(e,n){ee(t,e,n),o=!0},p(e,o){const r={};!n&&1&o[0]&&(n=!0,r.selectedFiles=e[0],D((()=>n=!1))),t.$set(r)},i(e){o||(X(t.$$.fragment,e),o=!0)},o(e){W(t.$$.fragment,e),o=!1},d(e){te(t,e)}}}function hn(t){let n,o;return n=new Tt({}),{c(){Z(n.$$.fragment)},m(e,t){ee(n,e,t),o=!0},p:e,i(e){o||(X(n.$$.fragment,e),o=!0)},o(e){W(n.$$.fragment,e),o=!1},d(e){te(n,e)}}}function mn(e){let t,n,o,r={ctx:e,current:null,token:null,hasCatch:!0,pending:hn,then:un,catch:cn,blocks:[,,,]};return Y(n=e[3],r),{c(){t=v("div"),r.block.c(),x(t,"class","pixxioFiles svelte-wpisvp"),C(t,"no-modal",!e[8])},m(e,n){h(e,t,n),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null,o=!0},p(o,s){if(e=o,r.ctx=e,8&s[0]&&n!==(n=e[3])&&Y(n,r));else{const t=e.slice();r.block.p(t,s)}256&s[0]&&C(t,"no-modal",!e[8])},i(e){o||(X(r.block),o=!0)},o(e){for(let e=0;e<3;e+=1){W(r.blocks[e])}o=!1},d(e){e&&m(t),r.block.d(),r.token=null,r=null}}}function gn(e,t,n){let o,r,s,i,a,l,u,d,f,p,h,m;c(e,bt,(e=>n(1,l=e))),c(e,mt,(e=>n(17,u=e))),c(e,gt,(e=>n(25,d=e))),c(e,wt,(e=>n(26,f=e))),c(e,ot,(e=>n(8,p=e))),c(e,ct,(e=>n(9,h=e))),c(e,pt,(e=>n(10,m=e)));const g=O(),v=new ut;let y=null,b=1,w=[],$=0,x=!1,_="",k=[];N((()=>{n(3,y=E()),ht.subscribe((e=>{_=e,S()})),yt.subscribe((()=>S()))}));const S=()=>{b=1,E()},E=async e=>{try{n(5,x=!0);let t=[],o=[],r={};d.length&&(t=[{filterType:"connectorOr",filters:[...d.map((e=>({filterType:"fileExtension",fileExtension:e})))]}]),_&&(o=[{filterType:"searchTerm",term:_}]),(_||d.length)&&(r={filter:{filterType:"connectorAnd",filters:[...o,...t]}});const s={page:b,pageSize:50,responseFields:["id","modifiedPreviewFileURLs","previewFileURL","originalFileURL","width","height","fileName","fileExtension","uploadDate","modifyDate","rating","userID","fileSize","dominantColor",...f],previewFileOptions:[{height:400,quality:60}],...r},i=await v.get("/files",s);if(!i.success)throw new an(i.errormessage);i.files=i.files.map((e=>(e.selected=k.find((t=>t.id===e.id)),e))),e?n(4,w=[...w,...i.files]):(n(4,w=i.files),$=i.quantity),n(5,x=!1)}catch(e){console.log(e),hasError=!0,n(5,x=!1)}},C=e=>{w.find((t=>t.id===e.detail.id)).selected=!0,n(4,w),n(0,k=o>0?[e.detail,...k.slice(0,o-1)]:[e.detail,...k]),q()},q=()=>{w.forEach((e=>{e.selected=!1})),n(4,w),k.forEach((e=>{w.find((t=>t.id==e.id)).selected=!0,n(4,w)}))},T=async e=>{const t=await v.get("/files/convert",{ids:[e],downloadType:"downloadFormat",downloadFormatID:a}),n=async()=>{const e=await v.get("/files/download",{downloadID:t.downloadID});return e.downloadURL?e.downloadURL:await new Promise((e=>{setTimeout((()=>n().then((t=>e(t)))),100)}))};return await n()},P=async()=>{const e=[];n(5,x=!0);for(let t=0;t<k.length;t+=1){const n=k[t],o="preview"===a?n.previewFileURL:n.originalFileURL,r=n.modifiedPreviewFileURLs[0];["preview","original"].includes(a)||(o=await T(n.id)),e.push({id:n.id,url:o,thumbnail:r,file:n})}n(5,x=!1),g("submit",e)};return e.$$.update=()=>{2&e.$$.dirty[0]&&n(16,o=l),1&e.$$.dirty[0]&&n(2,r=k.length),65540&e.$$.dirty[0]&&n(6,s=r>=o&&o>0),131076&e.$$.dirty[0]&&n(7,i=r>=1&&u),131072&e.$$.dirty[0]&&(a=u)},[k,l,r,y,w,x,s,i,p,h,m,e=>{if(x||w.length>=$)return;e.target.scrollHeight-e.target.scrollTop-e.target.offsetHeight<e.target.offsetHeight/2&&(b+=1,E(!0))},e=>{C(e),P()},C,e=>{n(0,k=k.filter((t=>t.id!==e.detail.id))),q()},P,o,u,function(e,t,o,r){o[r]=e,n(4,w)},function(t,o){e.$$.not_equal(o.selected,t)&&(o.selected=t,n(4,w))},function(e){k=e,n(0,k)}]}class vn extends re{constructor(e){super(),oe(this,e,gn,mn,i,{},[-1,-1])}}function yn(t){let n,o,r,s,i,a,l,c,u,d,f,g,w=Ct("logged_in_as")+"";return{c(){n=v("small"),o=y(w),r=b(),s=y(t[0]),i=y(" in "),a=v("a"),l=y(t[2]),u=y(". "),d=v("a"),d.textContent="Ausloggen",x(a,"href",c="https://"+t[2]),x(a,"target","_blank"),x(a,"class","svelte-a2gk4x"),x(d,"href","#"),x(d,"class","svelte-a2gk4x"),x(n,"class","svelte-a2gk4x"),C(n,"no-modal",!t[1])},m(e,c){h(e,n,c),p(n,o),p(n,r),p(n,s),p(n,i),p(n,a),p(a,l),p(n,u),p(n,d),f||(g=$(d,"click",t[3]),f=!0)},p(e,[t]){1&t&&_(s,e[0]),4&t&&_(l,e[2]),4&t&&c!==(c="https://"+e[2])&&x(a,"href",c),2&t&&C(n,"no-modal",!e[1])},i:e,o:e,d(e){e&&m(n),f=!1,g()}}}function bn(e,t,n){let o,r;c(e,ot,(e=>n(1,o=e))),c(e,Ze,(e=>n(2,r=e)));const s=new ut;let i="";(async()=>{s.get("/users/current").then((e=>{n(0,i=e.user.displayName)}))})();const a=O();return[i,o,r,()=>{a("logout")}]}class wn extends re{constructor(e){super(),oe(this,e,bn,yn,i,{})}}function $n(e){let t,n;return t=new Tt({}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function xn(e){let t,n;return t=new an({props:{$$slots:{default:[_n]},$$scope:{ctx:e}}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};258&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function _n(e){let t;return{c(){t=y(e[1])},m(e,n){h(e,t,n)},p(e,n){2&n&&_(t,e[1])},d(e){e&&m(t)}}}function kn(e){let t,n;return t=new an({props:{success:!0,$$slots:{default:[Sn]},$$scope:{ctx:e}}}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},p(e,n){const o={};260&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function Sn(e){let t;return{c(){t=y(e[2])},m(e,n){h(e,t,n)},p(e,n){4&n&&_(t,e[2])},d(e){e&&m(t)}}}function En(e){let t,n,o,r,s=e[0]&&$n(),i=e[1]&&xn(e),a=e[2]&&kn(e);return{c(){t=v("div"),s&&s.c(),n=b(),i&&i.c(),o=b(),a&&a.c(),x(t,"class","upload svelte-74nv7x"),C(t,"no-modal",!e[3])},m(e,l){h(e,t,l),s&&s.m(t,null),p(t,n),i&&i.m(t,null),p(t,o),a&&a.m(t,null),r=!0},p(e,[r]){e[0]?s?1&r&&X(s,1):(s=$n(),s.c(),X(s,1),s.m(t,n)):s&&(K(),W(s,1,1,(()=>{s=null})),G()),e[1]?i?(i.p(e,r),2&r&&X(i,1)):(i=xn(e),i.c(),X(i,1),i.m(t,o)):i&&(K(),W(i,1,1,(()=>{i=null})),G()),e[2]?a?(a.p(e,r),4&r&&X(a,1)):(a=kn(e),a.c(),X(a,1),a.m(t,null)):a&&(K(),W(a,1,1,(()=>{a=null})),G()),8&r&&C(t,"no-modal",!e[3])},i(e){r||(X(s),X(i),X(a),r=!0)},o(e){W(s),W(i),W(a),r=!1},d(e){e&&m(t),s&&s.d(),i&&i.d(),a&&a.d()}}}function Cn(e,t,n){let o;c(e,ot,(e=>n(3,o=e)));const r=new ut;let s=!1,{config:i={}}=t,a="",l="";const u=O(),d=async()=>{if(s)return!1;n(0,s=!0);try{n(1,a=""),n(2,l="");const e=new FormData;e.set("asynchronousConversion",!1),Object.keys(i).forEach((t=>{"file"!==t?e.set(t,JSON.stringify(i[t])):e.set(t,i[t])}));const t=await r.post("/files",e,!0,null,!1,!1);return n(0,s=!1),u("uploaded",t),t.success&&t.isDuplicate?(n(1,a=Ct("duplicate_file")),u("error",Ct("duplicate_file"))):n(2,l=Ct("success_upload_file")),t}catch(e){n(0,s=!1),n(1,a=e),console.error(e),u("error",e)}return!1};return N((async()=>{await d()})),e.$$set=e=>{"config"in e&&n(4,i=e.config)},e.$$.update=()=>{16&e.$$.dirty&&d()},[s,a,l,o,i]}class qn extends re{constructor(e){super(),oe(this,e,Cn,En,i,{config:4})}}function Tn(e){let t,n,o,r,s,i,a,l,c,u,d,f,g,y=!e[4]&&Pn(),w=e[5]&&"get"==e[6]&&Nn(e);const _=[An,Fn,On],k=[];function S(e,t){return e[5]?"get"==e[6]?1:"upload"==e[6]?2:-1:0}~(l=S(e))&&(c=k[l]=_[l](e));let E=e[5]&&!e[4]&&jn(e);return{c(){t=v("main"),n=v("div"),o=v("header"),y&&y.c(),r=b(),w&&w.c(),s=b(),i=v("a"),a=b(),c&&c.c(),u=b(),E&&E.c(),x(i,"href","#"),x(i,"class","close svelte-1tn49s"),x(o,"class","svelte-1tn49s"),x(n,"class","container svelte-1tn49s"),C(n,"container--enlarge",e[5]),x(t,"class","svelte-1tn49s"),C(t,"no-modal",!e[3]),C(t,"compact",e[4])},m(c,m){h(c,t,m),p(t,n),p(n,o),y&&y.m(o,null),p(o,r),w&&w.m(o,null),p(o,s),p(o,i),p(n,a),~l&&k[l].m(n,null),p(n,u),E&&E.m(n,null),d=!0,f||(g=$(i,"click",e[9]),f=!0)},p(e,i){e[4]?y&&(K(),W(y,1,1,(()=>{y=null})),G()):y?16&i&&X(y,1):(y=Pn(),y.c(),X(y,1),y.m(o,r)),e[5]&&"get"==e[6]?w?(w.p(e,i),96&i&&X(w,1)):(w=Nn(e),w.c(),X(w,1),w.m(o,s)):w&&(K(),W(w,1,1,(()=>{w=null})),G());let a=l;l=S(e),l===a?~l&&k[l].p(e,i):(c&&(K(),W(k[a],1,1,(()=>{k[a]=null})),G()),~l?(c=k[l],c?c.p(e,i):(c=k[l]=_[l](e),c.c()),X(c,1),c.m(n,u)):c=null),e[5]&&!e[4]?E?(E.p(e,i),48&i&&X(E,1)):(E=jn(e),E.c(),X(E,1),E.m(n,null)):E&&(K(),W(E,1,1,(()=>{E=null})),G()),32&i&&C(n,"container--enlarge",e[5]),8&i&&C(t,"no-modal",!e[3]),16&i&&C(t,"compact",e[4])},i(e){d||(X(y),X(w),X(c),X(E),d=!0)},o(e){W(y),W(w),W(c),W(E),d=!1},d(e){e&&m(t),y&&y.d(),w&&w.d(),~l&&k[l].d(),E&&E.d(),f=!1,g()}}}function Pn(e){let t,n;return t=new ft({}),{c(){Z(t.$$.fragment)},m(e,o){ee(t,e,o),n=!0},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){W(t.$$.fragment,e),n=!1},d(e){te(t,e)}}}function Nn(e){let t,n,o;function r(t){e[13](t)}let s={};return void 0!==e[1]&&(s.value=e[1]),t=new Et({props:s}),A.push((()=>Q(t,"value",r))),{c(){Z(t.$$.fragment)},m(e,n){ee(t,e,n),o=!0},p(e,o){const r={};!n&&2&o&&(n=!0,r.value=e[1],D((()=>n=!1))),t.$set(r)},i(e){o||(X(t.$$.fragment,e),o=!0)},o(e){W(t.$$.fragment,e),o=!1},d(e){te(t,e)}}}function On(e){let t,n,o,r;function s(t){e[14](t)}let i={};return void 0!==e[0]&&(i.config=e[0]),n=new qn({props:i}),A.push((()=>Q(n,"config",s))),n.$on("uploaded",e[11]),n.$on("error",e[12]),{c(){t=v("section"),Z(n.$$.fragment)},m(e,o){h(e,t,o),ee(n,t,null),r=!0},p(e,t){const r={};!o&&1&t&&(o=!0,r.config=e[0],D((()=>o=!1))),n.$set(r)},i(e){r||(X(n.$$.fragment,e),r=!0)},o(e){W(n.$$.fragment,e),r=!1},d(e){e&&m(t),te(n)}}}function Fn(t){let n,o,r;return o=new vn({}),o.$on("cancel",t[9]),o.$on("submit",t[10]),{c(){n=v("section"),Z(o.$$.fragment),x(n,"class","pixxioSectionFiles")},m(e,t){h(e,n,t),ee(o,n,null),r=!0},p:e,i(e){r||(X(o.$$.fragment,e),r=!0)},o(e){W(o.$$.fragment,e),r=!1},d(e){e&&m(n),te(o)}}}function An(t){let n,o,r;return o=new zt({}),o.$on("cancel",t[9]),o.$on("authenticated",t[7]),{c(){n=v("section"),Z(o.$$.fragment),x(n,"class","pixxioSectionLogin")},m(e,t){h(e,n,t),ee(o,n,null),r=!0},p:e,i(e){r||(X(o.$$.fragment,e),r=!0)},o(e){W(o.$$.fragment,e),r=!1},d(e){e&&m(n),te(o)}}}function jn(t){let n,o;return n=new wn({}),n.$on("logout",t[8]),{c(){Z(n.$$.fragment)},m(e,t){ee(n,e,t),o=!0},p:e,i(e){o||(X(n.$$.fragment,e),o=!0)},o(e){W(n.$$.fragment,e),o=!1},d(e){te(n,e)}}}function Rn(e){let t,n,o,r,s,i=e[2]&&Tn(e);return{c(){i&&i.c(),t=b(),n=v("link"),o=v("link"),r=v("style"),r.textContent='/* Global CSS via SASS */\n#pixxio-integration {\n  font-family: "Heebo", Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  all: initial;\n}',x(n,"rel","preconnect"),x(n,"href","https://fonts.gstatic.com"),x(n,"crossorigin",""),x(o,"href","https://fonts.googleapis.com/css2?family=Heebo:wght@400;700&family=Work+Sans:wght@400;500&display=swap"),x(o,"rel","stylesheet"),x(r,"lang","scss")},m(e,a){i&&i.m(e,a),h(e,t,a),p(document.head,n),p(document.head,o),p(document.head,r),s=!0},p(e,[n]){e[2]?i?(i.p(e,n),4&n&&X(i,1)):(i=Tn(e),i.c(),X(i,1),i.m(t.parentNode,t)):i&&(K(),W(i,1,1,(()=>{i=null})),G())},i(e){s||(X(i),s=!0)},o(e){W(i),s=!1},d(e){i&&i.d(e),e&&m(t),m(n),m(o),m(r)}}}function Un(e,t,n){let o,r,s,i,a;c(e,it,(e=>n(2,o=e))),c(e,ot,(e=>n(3,r=e))),c(e,ct,(e=>n(4,s=e))),c(e,st,(e=>n(5,i=e))),c(e,at,(e=>n(6,a=e)));let{uploadConfig:l={}}=t;const u=O();let d="";return e.$$set=e=>{"uploadConfig"in e&&n(0,l=e.uploadConfig)},[l,d,o,r,s,i,a,()=>{st.update((()=>!0))},()=>{localStorage.removeItem("refreshToken"),localStorage.removeItem("domain"),st.update((()=>!1)),Ze.update((()=>"")),tt.update((()=>""))},()=>{u("cancel")},({detail:e})=>{u("submit",e)},({detail:e})=>{u("uploaded",e)},({detail:e})=>{u("uploadError",e)},function(e){d=e,n(1,d)},function(e){l=e,n(0,l)}]}class zn extends re{constructor(e){super(),oe(this,e,Un,Rn,i,{uploadConfig:0})}}class Ln{constructor(e={},t="en"){this.config=e,this.runningPromise,this.boot(),this.storeConfig(e),this.app=new zn({target:this.element,props:{standalone:!0,config:e}})}storeConfig(e){rt.update((()=>e?.language||"en")),Ze.update((()=>e?.appUrl||"")),et.update((()=>e?.appKey||"")),ot.update((()=>e?.modal)),lt.update((()=>!!e?.askForProxy)),ct.update((()=>e?.compact||!1))}boot(){if(this.config.element)this.element=this.config.element;else{const e=document.createElement("div");e.id="pixxio-integration",document.body.appendChild(e),this.element=e}}destroy(){it.update((()=>!1)),this.element.parentNode.removeChild(this.element)}destroyMedia(){it.update((()=>!1))}getMedia(e){gt.update((()=>e?.allowTypes||[])),vt.update((()=>e?.allowFormats||null)),bt.update((()=>e?.max>0&&e?.max||0)),wt.update((()=>e?.additionalResponseFields||[])),$t.update((()=>e?.showFileName||!1)),xt.update((()=>e?.showFileType||!0)),_t.update((()=>e?.showFileSize||!0));const t=Date.now();return yt.update((()=>t)),at.update((()=>"get")),new Promise(((e,n)=>{it.update((()=>!0)),this.app.$on("submit",(t=>{it.update((()=>!1)),e(t.detail)})),this.app.$on("cancel",(()=>{it.update((()=>!1)),n()})),yt.subscribe((e=>{t!==e&&n()}))}))}on(e,t){switch(e){case"authState":st.subscribe((e=>{t&&"function"==typeof t&&t({login:e})}));break;default:console.error("Error: Event does not extist")}}pushMedia(e){const t=Date.now();return yt.update((()=>t)),at.update((()=>"upload")),new Promise(((t,n)=>{it.update((()=>!0)),this.app.$set({uploadConfig:e}),this.app.$on("uploaded",(e=>{t(e.detail)})),this.app.$on("uploadError",(()=>{n()})),this.app.$on("cancel",(()=>{it.update((()=>!1)),n()}))}))}bulkMainVersionCheck(e){const t=new ut,n=l(st);return new Promise((async(o,r)=>{if(n)try{const n=200,r=[];for(let t=0;t<e.length;t++){const o=Math.floor(t/n);r[o]||(r[o]=[]),r[o].push(e[t])}Promise.all(r.map((async e=>{const n={ids:e,responseFields:["id","isMainVersion","mainVersion","mainVersionOriginalFileURL","mainVersionFileName","mainVersionFileSize"]},o=await t.get("/files/existence",n);if(!o.success)throw new Error(o.errormessage);return o}))).then((e=>{let t=[];e.forEach((e=>{t=[...t,...e.files]})),o(t)}))}catch(e){console.log(e),r(e)}else r()}))}forceLogout=()=>{localStorage.removeItem("refreshToken"),localStorage.removeItem("domain"),localStorage.removeItem("proxy"),st.update((()=>!1)),Ze.update((()=>"")),tt.update((()=>""))};getProxyConfiguration(){const e=localStorage.getItem("proxy");return e?JSON.parse(e):null}getFileById(e,t){const n=new ut,o=l(st);return new Promise((async(r,s)=>{if(o)try{const o={responseFields:["id","originalFileURL","width","height","fileName","fileExtension","uploadDate","modifyDate","rating","userID","fileSize","dominantColor","versions"],...t||{}},s=await n.get(`/files/${e}`,o);if(!s.success)throw new Error(s.errormessage);r(s)}catch(e){console.log(e),s(e)}else s()}))}}window.PIXXIO=Ln;export default Ln;
